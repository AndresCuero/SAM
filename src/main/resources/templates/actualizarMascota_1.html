<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <link rel="stylesheet" href="../styles/output.css">

        <!-- Google Fonts -->
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
        <!-- Tailwind CSS -->
        <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

        <style>


            /* Estilos para el contenedor del mensaje de éxito */
            #successMessageContainer {
                width: 40%;
                margin: 60px auto;
                text-align: center;
            }

            /* Estilos para el mensaje de éxito */
            #successMessage {
                font-family: "Arial Black", Arial, sans-serif;
                background-color: #D7E8D2;
                color: #000;
                font-size: 14px;
                padding: 20px;
                border-radius: 10px;
                border-radius: 40px;
                width: 85%;
                height: 60px;
                margin: 0 auto;
            }
        </style>
    </head>
    <body>

        <header th:insert="fragments/header :: menu-principal" class="flex flex-col   ">

        </header>


        <main>
            <div class="h-full bg-yellow-50 dark:bg-gray-900">
                <!-- Container -->
                <div class="mx-auto">
                    <div class="flex justify-center px-6 py-12">
                        <!-- Row -->
                        <div
                            class="w-full xl:w-3/4 lg:w-11/12 flex shadow-black shadow-2xl"
                            >
                            <!-- Col -->
                            <div
                                class="w-full h-auto bg-blue-200 dark:bg-gray-800 hidden lg:block lg:w-5/12 bg-cover rounded-l-lg"
                                style="
                                background-image: url('../img-prin/imgPerroGato.jpg');
                                background-position: center;
                                "
                                ></div>

                            <!-- Col -->
                            <div

                                class="w-full lg:w-7/12 bg-white dark:bg-gray-700 p-5 rounded-lg lg:rounded-l-none"
                                >
                                <div id="successMessage" th:if="${mensaje != null}" th:text="${mensaje}"></div>
                                <h3
                                    class="py-4 text-2xl text-center text-gray-800 dark:text-white"
                                    >
                                     ACTUALIZAR MASCOTAS
                                </h3>
                                <form th:action="@{/mascota/save}"
                                      class="px-8 pt-6 pb-8 mb-4 bg-white dark:bg-gray-800 rounded" th:object="${mascota}" enctype="multipart/form-data" method="post"
                                      >
                                    <input type="hidden" th:field="*{ID_Mascota}">
                                    <input type="hidden" th:field="*{imagen_perfil}">
                                    <input type="hidden" th:field="*{img_vacuna}">
                                    
                                    
                           <div class="block rounded-full shadow-xl mx-auto mt-8 mb-8 h-48 w-48 bg-cover bg-center"
     th:style="'background-image: url(/logos/' + ${mascota.Imagen_perfil} + ');'">
</div>


                                    <div class="mb-4 md:flex md:justify-between">
                                        <div class="mb-4 md:mr-2 md:mb-0 w-full">
                                            <label
                                                class="block mb-3 text-sm font-bold text-gray-700 dark:text-white"
                                                >
                                                Nombre
                                                <input
                                                    class="w-full px-3 py-2 mt-3 mb-3 text-sm leading-tight text-gray-700 dark:text-white border border-red-500 rounded shadow appearance-none focus:outline-none focus:shadow-outline"
                                                    id="nombre"
                                                    type="text"
                                                    placeholder="nombre"
                                                    th:field="*{nombre}"
                                                    required
                                                    />
                                                <p class="text-xs italic text-red-500">
                                                    <!-- por favor, rellenar campo.-->
                                                </p>
                                            </label>
                                        </div>

                                        <div class="md:ml-2 w-full">
                                            <p class="block mb-2 text-sm font-bold text-gray-700 dark:text-white">Vacuna</p>
                                            <div class="relative w-full">
                                                <label class="cursor-pointer flex items-center gap-3 px-3 before:border-gray-400/60 hover:before:border-gray-300 group before:bg-gray-100 before:absolute before:inset-0 before:rounded-full before:border before:border-dashed before:transition-transform before:duration-300 hover:before:scale-105 active:duration-75 active:before:scale-95">
                                                    <div class="w-max relative">
                                                        <img class="w-10" src="../img-prin/upload.svg" alt=""/>
                                                    </div>
                                                    <div class="relative">
                                                        <span class="block text-base font-semibold relative text-gray-500 group-hover:text-black transition duration-150"> Actualizar carnet</span>
                                                    </div>
                                                    <input hidden="" type="file" accept=".png,.jpg,.jpeg,.jfif"  name="archivoImagenVacuna" id="archivoImagenVacuna" onchange="mostrarConfirmacion()"/>
                                                </label>
                                            </div>
                                            <!-- Div para mostrar el mensaje de confirmación -->
                                            <div id="mensajeConfirmacion" class="hidden text-yellow-500 font-bold mt-2 flex items-center">
                                                <img  width="16" height="16" src="https://img.icons8.com/tiny-color/16/000000/approval.png" class="w-6 h-6 mr-2"/>
                                                <span class="rounded-lg bg-yellow-200 text-black px-3 py-1"><span id="nombreImagen"></span></span>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="mb-4 md:flex md:justify-between">
                                        <div class="mb-4 md:mr-2 md:mb-0 w-full">
                                            <label
                                                class="block mb-3 text-sm font-bold text-gray-700 dark:text-white"
                                                >
                                                Edad
                                                <input
                                                    class="w-full px-3 py-2 mb-3 text-sm leading-tight text-gray-700 dark:text-white border border-red-500 rounded shadow appearance-none focus:outline-none focus:shadow-outline"
                                                    id="edad"
                                                    type="number"
                                                    placeholder="edad"
                                                    th:field="*{edad}"
                                                    required
                                                    />
                                                <p class="text-xs italic text-red-500">
                                                    por favor, rellenar campo.
                                                </p>
                                            </label>
                                        </div>
                                        <div class="md:ml-2 w-full">
                                            <label
                                                class="block mb-2 text-sm font-bold text-gray-700 dark:text-white"
                                                >
                                                estado
                                                <select th:field="*{estado}"
                                                        class="cursor-pointer w-full px-3 py-2 text-sm leading-tight text-gray-700 dark:text-white border rounded shadow appearance-none focus:outline-none focus:shadow-outline"
                                                        id="estado"
                                                        >

                                                    <option value="calle">situacion de calle</option>
                                                    <option value="hogar">en hogar</option>
                                                </select>
                                            </label>
                                        </div>
                                     </div>
                                    <div class="mb-4">
                                        <label
                                            class="block mb-2 text-sm font-bold text-gray-700 dark:text-white"
                                            >
                                            Descripción
                                            <textarea
                                                class="w-full h-14 px-3 py-2 mb-3 text-sm leading-tight text-gray-700 dark:text-white border rounded shadow appearance-none focus:outline-none focus:shadow-outline"
                                                id="descripcion"
                                                placeholder="jugueton, ciudad, condiciones etc..."
                                                th:field="*{descripcion}"
                                                minlength="10"
                                                maxlength="500"
                                                required
                                                ></textarea>
                                        </label>
                                    </div>
                                    <div class="flex items-center justify-center w-full mb-4">
                                        <label class="flex flex-col items-center justify-center w-full h-40 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600">

                                            <div class="flex flex-col items-center justify-center pt-5 pb-6">
                                                <b>  Actualizar Foto de perfil</b>
                                                <svg class="w-8 h-8 mb-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 16">
                                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"/>
                                                </svg>
                                                <p class="mb-2 text-sm text-gray-500 dark:text-gray-400">
                                                    <span class="font-semibold">Click para subir</span> o arrastrar y soltar
                                                </p>
                                                <p class="text-xs text-gray-500 dark:text-gray-400">PNG, JPG</p>
                                            </div>
                                            <input type="file" class="hidden" accept=".png,.jpg,.jpeg,.jfif" name="archivoImagenPerfil" id="archivoImagenPerfil" onchange="mostrarConfirmacionPerfil()" required/>
                                        </label>
                                    </div>

                                    <!-- Div para mostrar el mensaje de confirmación -->
                                    <div id="mensajeConfirmacionPerfil" class="hidden text-yellow-500 font-bold mt-2 flex items-center justify-center">
                                        <img  width="16" height="16" src="https://img.icons8.com/tiny-color/16/000000/approval.png" class="w-6 h-6 mr-2"/>
                                        <span class="rounded-lg bg-yellow-200 text-black px-3 py-1"><span id="nombreImagenPerfil"></span></span>
                                    </div>


                                    <div class="md:ml-2 w-full">
                                        <p class="block mb-4 text-lg font-bold text-gray-700 dark:text-white"> Actualizar Fotos adicionales</p>
                                        <div class="flex justify-between space-x-4">
                                            <!-- Foto 1 -->
                                            <div class="w-1/3">
                                                <p class="block mb-2 text-sm font-bold text-gray-700 dark:text-white"></p>
                                                <div class="relative w-full">
                                                    <label class="cursor-pointer flex items-center gap-3 px-3 before:border-gray-400/60 hover:before:border-gray-300 group before:bg-gray-100 before:absolute before:inset-0 before:rounded-full before:border before:border-1 before:border-dashed before:transition-transform before:duration-300 hover:before:scale-105 active:duration-75 active:before:scale-95">
                                                        <div class="w-max relative">
                                                            <img class="w-8" src="https://img.icons8.com/?size=100&id=j8OuU48bC4ia&format=png&color=000000" alt=""/>
                                                        </div>
                                                        <div class="relative">
                                                            <span class="block text-base font-semibold relative text-gray-500 group-hover:text-black transition duration-150">
                                                                Foto
                                                            </span>
                                                        </div>
                                                        <input hidden type="file" accept=".png,.jpg,.jpeg,.jfif"   name="archivoImagenFoto1" id="archivoImagenFoto1" onchange="nombreImagenFotos1()"/>
                                                    </label>
                                                </div>
                                                <div id="mensajeConfirmacionFoto1" class="hidden text-yellow-500 font-bold mt-2 flex items-center">
                                                    <img src="https://img.icons8.com/tiny-color/16/000000/approval.png" class="w-4 h-4 mr-2"/>
                                                    <span class="rounded-lg bg-yellow-200 text-black px-3 py-1"><span id="nombreImagenFoto1"></span></span>
                                                </div>
                                            </div>    
                                            <!-- Foto 2 -->
                                            <div class="w-1/3">
                                                <p class="block mb-2 text-sm font-bold text-gray-700 dark:text-white"></p>
                                                <div class="relative w-full">
                                                    <label class="cursor-pointer flex items-center gap-3 px-3 before:border-gray-400/60 hover:before:border-gray-300 group before:bg-gray-100 before:absolute before:inset-0 before:rounded-full before:border before:border-1 before:border-dashed before:transition-transform before:duration-300 hover:before:scale-105 active:duration-75 active:before:scale-95">
                                                        <div class="w-max relative">
                                                            <img class="w-8" src="https://img.icons8.com/?size=100&id=j8OuU48bC4ia&format=png&color=000000" alt=""/>
                                                        </div>
                                                        <div class="relative">
                                                            <span class="block text-base font-semibold relative text-gray-500 group-hover:text-black transition duration-150">
                                                                Foto
                                                            </span>
                                                        </div>
                                                        <input hidden type="file" accept=".png,.jpg,.jpeg,.jfif" name="archivoImagenFoto2" id="archivoImagenFoto2" onchange="nombreImagenFotos2()"/>
                                                    </label>
                                                </div>
                                                <div id="mensajeConfirmacion2" class="hidden text-yellow-500 font-bold mt-2 flex items-center">
                                                    <img src="https://img.icons8.com/tiny-color/16/000000/approval.png" class="w-4 h-4 mr-2"/>
                                                    <span class="rounded-lg bg-yellow-200 text-black px-3 py-1"><span id="nombreImagenFoto2"></span></span>
                                                </div>
                                            </div>
                                            <!-- Foto 3 -->
                                            <div class="w-1/3">
                                                <p class="block mb-2 text-sm font-bold text-gray-700 dark:text-white"></p>
                                                <div class="relative w-full">
                                                    <label class="cursor-pointer flex items-center gap-3 px-3 before:border-gray-400/60 hover:before:border-gray-300 group before:bg-gray-100 before:absolute before:inset-0 before:rounded-full before:border before:border-1 before:border-dashed before:transition-transform before:duration-300 hover:before:scale-105 active:duration-75 active:before:scale-95">
                                                        <div class="w-max relative">
                                                            <img class="w-8" src="https://img.icons8.com/?size=100&id=j8OuU48bC4ia&format=png&color=000000" alt=""/>
                                                        </div>
                                                        <div class="relative">
                                                            <span class="block text-base font-semibold relative text-gray-500 group-hover:text-black transition duration-150">
                                                                Foto
                                                            </span>
                                                        </div>
                                                        <input hidden type="file" accept=".png,.jpg,.jpeg,.jfif" name="archivoImagenFoto3" id="archivoImagenFoto3" onchange="nombreImagenFotos3()"/>
                                                    </label>
                                                </div>
                                                <div id="mensajeConfirmacion3" class="hidden text-yellow-500 font-bold mt-2 flex items-center">
                                                    <img src="https://img.icons8.com/tiny-color/16/000000/approval.png" class="w-4 h-4 mr-2"/>
                                                    <span class="rounded-lg bg-yellow-200 text-black px-3 py-1"><span id="nombreImagenFoto3"></span></span>
                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                    <div class="mb-6 text-center m-10">
                                        <button
                                            class="w-full px-4 py-2 font-bold text-black bg-yellow-300 ease-in-out duration-700 rounded-full hover:bg-yellow-500 dark:bg-yellow-500 dark:text-black dark:hover:bg-yellow-500 focus:outline-none focus:shadow-outline"
                                            type="submit"
                                            >
                                            Actualizar mascota
                                        </button>
                                    </div>
                                    <hr class="mb-6 border-t" />
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>



        <footer th:insert="fragments/footer :: pie-pagina">

        </footer>


        <script>
            //para selecionar perro o gato
            function handleSelectChange(selectElement) {
                const selectedOption = selectElement.options[selectElement.selectedIndex];
                if (selectedOption.value !== 'null') {
                    window.location.href = selectedOption.value;
                }
            }
        </script>


        <script>
            //comfiguracion para subir img vacuna
            function mostrarConfirmacion() {
                const input = document.getElementById('archivoImagenVacuna');
                const mensajeConfirmacion = document.getElementById('mensajeConfirmacion');
                const nombreImagen = document.getElementById('nombreImagen');

                if (input.files.length > 0) {
                    nombreImagen.textContent = input.files[0].name;
                    mensajeConfirmacion.classList.remove('hidden');
                }
            }
        </script>   

        <script>
            //comfiguracion para subir img perfil
            function mostrarConfirmacionPerfil() {
                const input = document.getElementById('archivoImagenPerfil');
                const mensajeConfirmacion = document.getElementById('mensajeConfirmacionPerfil');
                const nombreImagen = document.getElementById('nombreImagenPerfil');

                if (input.files.length > 0) {
                    nombreImagen.textContent = input.files[0].name;
                    mensajeConfirmacion.classList.remove('hidden');
                }
            }
        </script>

        <script>
            function nombreImagenFotos1() {
                //comfiguracion para subir img foto1
                const input = document.getElementById('archivoImagenFoto1');
                const mensajeConfirmacion = document.getElementById('mensajeConfirmacionFoto1');
                const nombreImagen = document.getElementById('nombreImagenFoto1');

                if (input.files.length > 0) {
                    nombreImagen.textContent = input.files[0].name;
                    mensajeConfirmacion.classList.remove('hidden');
                }
            }
        </script>

        <script>
            //comfiguracion para subir img foto2
            function nombreImagenFotos2() {
                const input = document.getElementById('archivoImagenFoto2');
                const mensajeConfirmacion = document.getElementById('mensajeConfirmacion2');
                const nombreImagen = document.getElementById('nombreImagenFoto2');

                if (input.files.length > 0) {
                    nombreImagen.textContent = input.files[0].name;
                    mensajeConfirmacion.classList.remove('hidden');
                }
            }
        </script>

        <script>
            function nombreImagenFotos3() {
                //comfiguracion para subir img foto3
                const input = document.getElementById('archivoImagenFoto3');
                const mensajeConfirmacion = document.getElementById('mensajeConfirmacion3');
                const nombreImagen = document.getElementById('nombreImagenFoto3');

                if (input.files.length > 0) {
                    nombreImagen.textContent = input.files[0].name;
                    mensajeConfirmacion.classList.remove('hidden');
                }
            }
        </script>



    </body>
</html>